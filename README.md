# YouTube Auto Expand & Translate Comments
**YouTube コメント自動展開・翻訳スクリプト**

![Version](https://img.shields.io/badge/version-6.2.0-blue.svg) ![License](https://img.shields.io/badge/license-MIT-green.svg) ![Platform](https://img.shields.io/badge/platform-YouTube-red.svg)

YouTubeのコメント欄における「クリックの手間」をゼロにします。
長いコメント、返信、そして翻訳ボタン。これらすべてを自動で展開し、かつてないほどスムーズな閲覧体験を提供します。

## 📖 概要 (Overview)

このユーザースクリプトは、YouTubeの動画ページ（通常動画およびショート動画）において、**コメントの「続きを読む」や「返信」ボタン、そして「翻訳」ボタンを自動的にクリックするツール**です。

単にすべてを展開するだけではありません。**「画面に表示されたコメントだけ」**を処理する高度な技術（Intersection Observer）を採用しており、数千件のコメントがある動画でもブラウザが重くなることなく、快適に動作します。

## ✨ 主な機能 (Key Features)

### 1. 🚀 ストレスフリーな自動展開
スクロールするだけで、以下の要素が自動的に開きます。
* **長いコメント:** 「続きを読む (Read more)」を自動展開。
* **返信スレッド:** 第一階層の返信を自動展開。
* **ネストされた返信:** 返信の中に隠れている「他の返信を表示」も逃さず展開します。

### 2. 🌐 多言語コメントの自動翻訳
* YouTube標準の翻訳機能を自動化。外国語のコメントをあなたの設定言語（日本語など）へ即座に翻訳します。
* **原文を隠す機能:** 翻訳後に表示される「原文を見る」ボタンや原文テキストを非表示にし、翻訳結果だけをスッキリと表示させるオプションを搭載しています。

### 3. ⚙️ 直感的な設定 UI
スクリプトマネージャーのメニューを開く必要はありません。
* **ON/OFF トグル:** コメント欄ヘッダーに追加されるスイッチで、機能を瞬時に切り替えられます。
* **詳細設定モーダル:** 歯車アイコンをクリックすると、各機能（返信展開、翻訳など）を個別にON/OFFできる設定画面が表示されます。
* **YouTube Shorts 完全対応:** ショート動画のコメント欄にも専用のUIが表示され、問題なく動作します。

### 4. ⚡ ハイパフォーマンス設計
* **遅延読み込み (Lazy Load):** 画面外にあるコメントは処理せず、スクロールして視界に入った瞬間に展開します。これにより、PCへの負荷を最小限に抑えています。
* **SPA対応:** YouTube特有のページ遷移（動画を切り替えても再読み込みされない挙動）に完全対応しており、動作が止まることはありません。

## 📥 インストール方法 (Installation)

このスクリプトを使用するには、ブラウザ拡張機能（ユーザースクリプトマネージャー）が必要です。
オープンソースで軽量な **Violentmonkey** の利用を推奨しています。

1.  **拡張機能のインストール**
    お使いのブラウザに合わせて、以下のいずれかをインストールしてください。

    * [Violentmonkey](https://violentmonkey.github.io/)
    * [Tampermonkey](https://www.tampermonkey.net/)

2.  **スクリプトのインストール**
    [ここをクリックしてインストール](https://raw.githubusercontent.com/koyasi777/youtube-auto-comment-expander/main/youtube-auto-comment-expander.user.js)
    または、拡張機能のダッシュボードから「新規スクリプトを追加」を選択し、コードを貼り付けて保存してください。

3.  **完了**
    YouTubeの動画ページを開き、コメント欄のソートボタン（並び替え）の横に**スイッチアイコン**が表示されていれば成功です。

## 🛠 使い方と設定 (Usage)

導入後、コメント欄の上部に新しいコントロールパネルが追加されます。

### コントロールパネルの操作
* **トグルスイッチ:**
    * 🟢 **ON:** 自動展開・翻訳が有効になります。
    * ⚪ **OFF:** スクリプトの機能が停止し、通常のYouTubeの挙動に戻ります。
* **⚙️ アイコン（設定）:**
    * クリックすると詳細設定モーダルが開きます。

### 詳細設定項目
モーダル内で以下の項目をカスタマイズ可能です。

| 項目 | 説明 | デフォルト |
| :--- | :--- | :--- |
| **言語 (Language)** | インターフェースの言語を切り替えます（自動/日本語/英語など11言語対応）。 | Auto |
| **長いコメントを展開** | 「続きを読む」を自動でクリックします。 | ✅ ON |
| **返信を自動展開** | コメントへの返信を自動で開きます。 | ✅ ON |
| **「他の返信を表示」も展開** | 返信欄の中にある追加の返信も展開します。 | ✅ ON |
| **コメントを自動翻訳** | 翻訳ボタンを自動でクリックします。 | ✅ ON |
| **└ "原文を見る" を非表示** | 翻訳時、原文に戻すボタン等を隠して見た目をスッキリさせます。 | ⬜ OFF |

## 🌍 対応環境 (Compatibility)

* **ブラウザ:** Google Chrome, Mozilla Firefox, Microsoft Edge, Brave, Vivaldi など
* **マネージャー:** Violentmonkey, Tampermonkey
* **対象ページ:**
    * YouTube 動画再生ページ (`/watch`)
    * YouTube ショート (`/shorts`)

## ❓ よくある質問 (FAQ)

**Q. 動作が重くなりませんか？**
A. いいえ。画面に見えている範囲のコメントのみを逐次処理する設計（Intersection Observer）になっているため、数千件のコメントがあっても動作への影響は極めて軽微です。

**Q. 設定は保存されますか？**
A. はい。設定内容はブラウザに保存され、次回アクセス時も維持されます。

**Q. 特定の動画だけで機能をOFFにしたいのですが。**
A. 画面上のトグルスイッチをOFFにしてください。ページをリロードせずに即座に反映されます。

**Q. スマートフォンでも使えますか？**
A. Android版Firefox (Nightly等) + Violentmonkey などの環境であれば動作する可能性がありますが、主にデスクトップ版での利用を想定しています。

## 📜 ライセンス (License)

MIT License

Copyright (c) 2025 koyasi777
[GitHub Repository](https://github.com/koyasi777/youtube-auto-comment-expander)
